<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- ... all your head code ... -->
  </head>
  <body>
    <div id="root"></div>
    <!-- Pricing Section -->
    <section id="pricing" style="max-width:600px;margin:40px auto 0 auto;padding:40px 20px;background:#f9fafb;border-radius:16px;box-shadow:0 4px 32px rgba(0,0,0,0.07);">
      <h2 style="margin-bottom:16px;font-size:2em;">Chatting Solutions Pricing</h2>
      <ul style="font-size:1.1em;line-height:1.7;margin-bottom:18px;">
        <li><strong>Small Projects:</strong> from <b>$299</b> one-time</li>
        <li><strong>Large Projects:</strong> from <b>$999</b> one-time</li>
        <li><strong>Subscription:</strong> <b>$49/month</b> (includes support &amp; updates)</li>
        <li><strong>AI Message Cost:</strong> from <b>$0.001/message</b></li>
      </ul>
      <p style="font-size:1em;color:#444;margin-bottom:10px;">
        <b>What you get:</b> 24/7 AI chatbot, multilingual support, easy setup, tailored solutions, and business growth.
      </p>
      <p style="font-size:.97em;color:#666;">
        For custom solutions, volume discounts, or enterprise features, <a href="mailto:info@chattingsolutions.com" style="color:#0066ff;text-decoration:underline;">contact us</a> for a quote!
      </p>
    </section>
    <!-- Chatbot + Demo Modal + All your existing code below -->
    <style>
      /* ... your CSS exactly as before ... */
      .cs-chat-quick{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0;}
      .cs-chat-quick button{background:#e6f0ff;color:#0066ff;border:none;border-radius:16px;padding:6px 14px;cursor:pointer;font:600 13px/1 Inter;transition:background .18s;}
      .cs-chat-quick button:hover{background:#cce3ff;}
    </style>

    <div id="cs-chat-window" class="cs-chat-window" aria-live="polite" aria-label="Chatting Solutions chatbot">
      <div class="cs-chat-header">
        <h4>Chat with Chatting Solutions</h4>
        <button class="cs-chat-close" aria-label="Close chat" id="cs-chat-close">Ã—</button>
      </div>
      <div class="cs-chat-messages" id="cs-chat-messages"></div>
      <div class="cs-chat-quick" id="cs-chat-quick"></div>
      <form class="cs-chat-input" id="cs-chat-form" autocomplete="on">
        <input id="cs-chat-input" type="text" name="message" placeholder="Type a message..." aria-label="Message" required />
        <button type="submit">Send</button>
      </form>
    </div>
    <!-- ... rest of your code: chatbot button, hint, sticky demo, modal ... -->

    <script>
      // --- Chatbot using OpenRouter AI ---
      const openrouterKey = "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";
      const openrouterEndpoint = "https://openrouter.ai/api/v1/chat/completions";
      const systemPrompt = `You are an AI assistant for Chatting Solutions, a company providing AI-powered chatbots for websites. Always follow these rules:
1. Friendly, professional, and concise. Use emojis sparingly for friendliness (ðŸ‘‹, ðŸ§, ðŸ·ï¸, â“, ðŸŽ‰). Never be rude or confusing.
2. When users first open the chat, greet with: "Hello ðŸ‘‹, how can I help you today? If you want to know how the best AI assistant works, you're in the right place ðŸŽ‰"
3. Always support these quick reply buttons: Contact ðŸ§, Pricing ðŸ·ï¸, Help â“. Respond per company guidelines.
4. Answer clearly, using company info from chattingsolutions.com. If unsure, politely ask for clarification or suggest contacting info@chattingsolutions.com.
5. Use short paragraphs. Pricing in bullet points. Be professional but approachable.
6. Never promote other products or give technical answers unrelated to Chatting Solutions. Never use slang.
7. Guide users about AI chatbot services, pricing, and contact options.`;

      const chatWindow = document.getElementById('cs-chat-window');
      const chatButton = document.getElementById('cs-chatbot-button');
      const chatClose = document.getElementById('cs-chat-close');
      const chatMessages = document.getElementById('cs-chat-messages');
      const chatForm = document.getElementById('cs-chat-form');
      const chatInput = document.getElementById('cs-chat-input');
      const chatHint = document.getElementById('cs-chat-hint');
      const badge = document.getElementById('cs-chatbot-badge');
      const quickContainer = document.getElementById('cs-chat-quick');
      let chatHistory = [
        { role: "system", content: systemPrompt }
      ];

      function showChat(show){
        chatWindow.style.display = show ? 'flex' : 'none';
        chatButton.setAttribute('aria-expanded', show ? 'true' : 'false');
        if(show){
          chatHint.style.display = 'none';
          if(!chatMessages.dataset.greeted){
            appendBot("Hello ðŸ‘‹, how can I help you today? If you want to know how the best AI assistant works, you're in the right place ðŸŽ‰");
            chatMessages.dataset.greeted = '1';
          }
          setTimeout(()=>chatInput.focus(), 50);
        }
      }
      function appendUser(text){
        const el = document.createElement('div');
        el.className = 'cs-msg user';
        el.textContent = text;
        chatMessages.appendChild(el);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
      function appendBot(text){
        const el = document.createElement('div');
        el.className = 'cs-msg bot';
        el.textContent = text;
        chatMessages.appendChild(el);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        renderQuickReplies();
        return el;
      }
      function setLoading(el, loading){
        if(!el) return;
        el.dataset.loading = loading ? '1' : '';
        if(loading){ el.textContent = 'â€¦'; }
      }
      function renderQuickReplies(){
        quickContainer.innerHTML = '';
        [
          {label: "Contact ðŸ§", value: "Contact"},
          {label: "Pricing ðŸ·ï¸", value: "Pricing"},
          {label: "Help â“", value: "Help"}
        ].forEach(btn => {
          const b = document.createElement('button');
          b.type = 'button';
          b.textContent = btn.label;
          b.onclick = () => {
            if(btn.value === "Contact"){
              appendBot("You can contact us at info@chattingsolutions.com");
            } else if(btn.value === "Pricing"){
              appendBot("Here is a quick overview of our pricing:\nâ€¢ Small projects: from $299 one-time.\nâ€¢ Large projects: from $999 one-time.\nâ€¢ Subscription: $49/month (includes support & updates).\nâ€¢ AI message cost: from $0.001 per message.\nFor tailored pricing, contact info@chattingsolutions.com.");
            } else if(btn.value === "Help"){
              appendBot("Here are some FAQs to guide you:\nâ€¢ What are the differences between AI solutions?\nâ€¢ How customizable is your chatbot?\nâ€¢ What is the implementation process?\nâ€¢ How is my data secured?\nâ€¢ What kind of support do you offer?\nIf you have more questions, just ask!");
            }
          };
          quickContainer.appendChild(b);
        });
      }

      chatButton.addEventListener('click', ()=>{
        const isOpen = chatWindow.style.display === 'flex';
        showChat(!isOpen);
      });
      chatClose.addEventListener('click', ()=> showChat(false));

      let hintShown = false;
      setTimeout(()=>{
        if(!hintShown){
          hintShown = true;
          chatHint.style.display = 'block';
          badge.style.display = 'inline-block';
          setTimeout(()=> chatHint.style.display = 'none', 3500);
        }
      }, 2200);

      chatForm.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const text = (chatInput.value || '').trim();
        if(!text){ return; }
        appendUser(text);
        chatInput.value = '';
        const placeholder = appendBot('â€¦');
        setLoading(placeholder, true);
        try{
          chatHistory.push({ role: "user", content: text });
          const res = await fetch(openrouterEndpoint, {
            method: "POST",
            headers: {
              "Authorization": "Bearer " + openrouterKey,
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            body: JSON.stringify({
              model: "openai/gpt-3.5-turbo",
              messages: chatHistory,
              max_tokens: 500
            })
          });
          const data = await res.json();
          let reply = "Sorry, there was an error.";
          if (data.choices && data.choices[0] && data.choices[0].message && data.choices[0].message.content) {
            reply = data.choices[0].message.content;
          }
          placeholder.textContent = reply;
          chatHistory.push({ role: "assistant", content: reply });
        } catch(err){
          placeholder.textContent = 'Could not reach the assistant. Please try again later.';
        } finally {
          setLoading(placeholder, false);
        }
      });

      // Demo: openers
      const demoOverlay = document.getElementById('cs-demo-overlay');
      const openDemoBtn = document.getElementById('cs-open-demo');
      const demoCloseBtn = document.getElementById('cs-demo-close');
      const demoCancelBtn = document.getElementById('cs-demo-cancel');
      const demoForm = document.getElementById('cs-demo-form');
      function openDemo(open){
        demoOverlay.style.display = open ? 'flex' : 'none';
        if(open){
          const first = demoOverlay.querySelector('input,textarea,button');
          if(first){ first.focus(); }
        }
      }
      openDemoBtn.addEventListener('click', ()=> openDemo(true));
      demoCloseBtn.addEventListener('click', ()=> openDemo(false));
      demoCancelBtn.addEventListener('click', ()=> openDemo(false));
      demoForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        const fd = new FormData(demoForm);
        const name = fd.get('name');
        const email = fd.get('email');
        const company = fd.get('company');
        const datetime = fd.get('datetime');
        const notes = fd.get('notes');
        const subject = encodeURIComponent('Demo request - Chatting Solutions');
        const body = encodeURIComponent(
          'Name: ' + name + '\n' +
          'Email: ' + email + '\n' +
          'Company: ' + company + '\n' +
          'Preferred: ' + (datetime || 'Any') + '\n' +
          'Notes: ' + (notes || '-') + '\n\n' +
          'Sent from website.'
        );
        window.location.href = 'mailto:hello@chattingsolutions.ai?subject=' + subject + '&body=' + body;
        openDemo(false);
      });

      // Schedule a demo triggers
      const wireDemoTriggers = () => {
        const candidates = Array.from(document.querySelectorAll('a,button,[role="button"]'));
        candidates.forEach((el)=>{
          const label = (el.innerText || el.textContent || '').trim().toLowerCase();
          if(label.includes('schedule a demo') || label.includes('book a demo') || el.dataset.scheduleDemo === 'true'){
            if(!el.dataset.csDemoWired){
              el.addEventListener('click', (ev)=>{ ev.preventDefault(); openDemo(true); });
              el.dataset.csDemoWired = '1';
            }
          }
        });
      };
      wireDemoTriggers();
      setTimeout(wireDemoTriggers, 2000);
      document.addEventListener('click', (e)=>{
        if(chatWindow.style.display === 'flex'){
          const within = chatWindow.contains(e.target) || chatButton.contains(e.target);
          if(!within){ showChat(false); }
        }
      });
    </script>
  </body>
</html>
